# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Settings here will override settings in existing env vars or in bin/solr.  The default shipped state
# of this file is completely commented.

# By default the script will use JAVA_HOME to determine which java
# to use, but you can set a specific path for Solr to use without
# affecting other Java applications on your server/workstation.
#SOLR_JAVA_HOME="<%= node['solr6']['solr-in-sh']['SOLR_JAVA_HOME'] %>"

# This controls the number of seconds that the solr script will wait for
# Solr to stop gracefully or Solr to start.  If the graceful stop fails,
# the script will forcibly stop Solr.  If the start fails, the script will
# give up waiting and display the last few lines of the logfile.
#SOLR_STOP_WAIT="<%= node['solr6']['solr-in-sh']['SOLR_STOP_WAIT'] %>"

# Increase Java Heap as needed to support your indexing / query needs
#SOLR_HEAP="<%= node['solr6']['solr-in-sh']['SOLR_HEAP'] %>"

# Expert: If you want finer control over memory options, specify them directly
# Comment out SOLR_HEAP if you are using this though, that takes precedence
#SOLR_JAVA_MEM="<%= node['solr6']['solr-in-sh']['SOLR_JAVA_MEM'] %>"

# Enable verbose GC logging
#GC_LOG_OPTS="<%= node['solr6']['solr-in-sh']['GC_LOG_OPTS'] %>"

# These GC settings have shown to work well for a number of common Solr workloads
#GC_TUNE="<%= node['solr6']['solr-in-sh']['GC_TUNE'] %>"

# Set the ZooKeeper connection string if using an external ZooKeeper ensemble
# e.g. host1:2181,host2:2181/chroot
# Leave empty if not using SolrCloud
#ZK_HOST="<%= node['solr6']['solr-in-sh']['ZK_HOST'] %>"

# Set the ZooKeeper client timeout (for SolrCloud mode)
#ZK_CLIENT_TIMEOUT="<%= node['solr6']['solr-in-sh']['ZK_CLIENT_TIMEOUT'] %>"

# By default the start script uses "localhost"; override the hostname here
# for production SolrCloud environments to control the hostname exposed to cluster state
#SOLR_HOST="<%= node['solr6']['solr-in-sh']['SOLR_HOST'] %>"

# By default the start script uses UTC; override the timezone if needed
#SOLR_TIMEZONE="<%= node['solr6']['solr-in-sh']['SOLR_TIMEZONE'] %>"

# Set to true to activate the JMX RMI connector to allow remote JMX client applications
# to monitor the JVM hosting Solr; set to "false" to disable that behavior
# (false is recommended in production environments)
#ENABLE_REMOTE_JMX_OPTS="<%= node['solr6']['solr-in-sh']['ENABLE_REMOTE_JMX_OPTS'] %>"

# The script will use SOLR_PORT+10000 for the RMI_PORT or you can set it here
# RMI_PORT=<%= node['solr6']['solr-in-sh']['RMI_PORT'] %>

# Alfresco configuration. This file is automatically included by solr. You can define your custom settings here
SOLR_OPTS="<%= node['solr6']['solr-in-sh']['SOLR_OPTS_1'] %>"

# Anything you add to the SOLR_OPTS variable will be included in the java
# start command line as-is, in ADDITION to other options. If you specify the
# -a option on start script, those options will be appended as well. Examples:
#SOLR_OPTS="<%= node['solr6']['solr-in-sh']['SOLR_OPTS_2'] %>"
#SOLR_OPTS="<%= node['solr6']['solr-in-sh']['SOLR_OPTS_3'] %>"
#SOLR_OPTS="<%= node['solr6']['solr-in-sh']['SOLR_OPTS_4'] %>"

# Location where the bin/solr script will save PID files for running instances
# If not set, the script will create PID files in $SOLR_TIP/bin
SOLR_PID_DIR=<%= node['solr6']['solr-in-sh']['SOLR_PID_DIR'] %>

# Path to a directory for Solr to store cores and their data. By default, Solr will use server/solr
# If solr.xml is not stored in ZooKeeper, this directory needs to contain solr.xml
SOLR_HOME=<%= node['solr6']['solr-in-sh']['SOLR_HOME'] %>

# Solr provides a default Log4J configuration properties file in server/resources
# however, you may want to customize the log settings and file appender location
# so you can point the script to use a different log4j.properties file
LOG4J_PROPS=<%= node['solr6']['solr-in-sh']['LOG4J_PROPS'] %>

# Changes the logging level. Valid values: ALL, TRACE, DEBUG, INFO, WARN, ERROR, FATAL, OFF. Default is INFO
# This is an alternative to changing the rootLogger in log4j.properties
SOLR_LOG_LEVEL=<%= node['solr6']['solr-in-sh']['SOLR_LOG_LEVEL'] %>

# Location where Solr should write logs to. Absolute or relative to solr start dir
SOLR_LOGS_DIR=<%= node['solr6']['solr-in-sh']['SOLR_LOGS_DIR'] %>

# Sets the port Solr binds to, default is 8983
SOLR_PORT=<%= node['solr6']['solr-in-sh']['SOLR_PORT'] %>

<% if node['solr6']['ssl.enabled'] %>
# Uncomment to set SSL-related system properties
# Be sure to update the paths to the correct keystore for your environment
SOLR_SSL_KEY_STORE=<%= node['solr6']['solr-in-sh']['SOLR_SSL_KEY_STORE'] %>
SOLR_SSL_KEY_STORE_PASSWORD=<%= node['solr6']['solr-in-sh']['SOLR_SSL_KEY_STORE_PASSWORD'] %>
SOLR_SSL_TRUST_STORE=<%= node['solr6']['solr-in-sh']['SOLR_SSL_TRUST_STORE'] %>
SOLR_SSL_TRUST_STORE_PASSWORD=<%= node['solr6']['solr-in-sh']['SOLR_SSL_TRUST_STORE_PASSWORD'] %>
SOLR_SSL_NEED_CLIENT_AUTH=<%= node['solr6']['solr-in-sh']['SOLR_SSL_NEED_CLIENT_AUTH'] %>
SOLR_SSL_WANT_CLIENT_AUTH=<%= node['solr6']['solr-in-sh']['SOLR_SSL_WANT_CLIENT_AUTH'] %>
<% end %>

# Uncomment if you want to override previously defined SSL values for HTTP client
# otherwise keep them commented and the above values will automatically be set for HTTP clients
#SOLR_SSL_CLIENT_KEY_STORE=<%= node['solr6']['solr-in-sh']['SOLR_SSL_CLIENT_KEY_STORE'] %>
#SOLR_SSL_CLIENT_KEY_STORE_PASSWORD=<%= node['solr6']['solr-in-sh']['SOLR_SSL_CLIENT_KEY_STORE_PASSWORD'] %>
#SOLR_SSL_CLIENT_TRUST_STORE=<%= node['solr6']['solr-in-sh']['SOLR_SSL_CLIENT_TRUST_STORE'] %>
#SOLR_SSL_CLIENT_TRUST_STORE_PASSWORD=<%= node['solr6']['solr-in-sh']['SOLR_SSL_CLIENT_TRUST_STORE_PASSWORD'] %>

# Settings for authentication
#SOLR_AUTHENTICATION_CLIENT_CONFIGURER=<%= node['solr6']['solr-in-sh']['SOLR_AUTHENTICATION_CLIENT_CONFIGURER'] %>
#SOLR_AUTHENTICATION_OPTS=<%= node['solr6']['solr-in-sh']['SOLR_AUTHENTICATION_OPTS'] %>

# Settings for ZK ACL
#SOLR_ZK_CREDS_AND_ACLS="<%= node['solr6']['solr-in-sh']['SOLR_ZK_CREDS_AND_ACLS'] %>"
#SOLR_OPTS="<%= node['solr6']['solr-in-sh']['SOLR_OPTS_5'] %>"
